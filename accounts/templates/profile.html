{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{user.first_name}}'s Profile</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous"></head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link rel="shortcut icon" href="{%  static 'img/favicon.ico' %}">
  <link rel="stylesheet" href="{% static 'accounts/style.css' %}">
</head>
<style>
    .pad{
        padding-right: 15%;
        padding-left: 15%;
    }
    .cent{
        text-align: center;
    }
    .info{
        color: green;
    }
    .warning{
        color: red;
    }
</style>

<body class="container-fluid">
<nav class="navbar navbar-expand-lg navbar-light bg-custom navrounding">
  <div class="navbar-header">
    <a class="nav-brand" href="/">NYC Accessible Streets</a>
  </div>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav ml-auto">
      <li><a class = "nav-list" href="/accounts/profile"> My Profile</a></li>
      <li><a class = "nav-list" href="/accounts/help"><i class="fas fa-question"></i> Help</a></li>
      <li><a class = "nav-list" href="/accounts/logout"><i class="fas fa-user"></i> Log Out</a></li>
    </ul>
  </div>
</nav>
{% load crispy_forms_tags %}
    <div class="padding">
        <div class="pad"><div class="cent">
            <h1>General Account Settings</h1>
            <br><br><br>
            <h5>Username: <span class="info">{{user.username}}</span></h5>
            <h5>Email: <span class="info">{{user.email}}</span></h5>
            <br><br>
            {% if messages %}
                <ul class="messages">
                    {% for message in messages %}
                    <div class="warning">
                    <p{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</p>
                    </div>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
            <br><br>
        <h2>Change User Information</h2>
            <br><br>
        <form method="POST" action="">
            {% csrf_token %}
            <div class="row">
                <div class="col-sm-2">
                    <h5>First Name: </h5>
                </div>
                <div class="col-sm-2">
                    <h5><span class="info">{{user.first_name}}</span></h5>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        {{fnform.new_first_name|as_crispy_field}}
                    </div>
                </div>
                <div class="col-sm-2" style="margin-bottom:30px">
                    <button onclick="location.href = '/accounts/profile';" style="background-color:#18435A; color:white; margin-top:0px" class="btn btn-default btn-md" type="submit">Change</button>
                </div>
            </div>
        </form>
        <form method="POST" action="">
            {% csrf_token %}
            <div class="row">
                <div class="col-sm-2">
                    <h5>Last Name: </h5>
                </div>
                <div class="col-sm-2">
                    <h5><span class="info">{{user.last_name}}</span></h5>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        {{lnform.new_last_name|as_crispy_field}}
                    </div>
                </div>
                <div class="col-sm-2" style="margin-bottom:30px">
                    <button onclick="location.href = '/accounts/profile';" style="background-color:#18435A; color:white; margin-top:0px" class="btn btn-default btn-md" type="submit">Change</button>
                </div>
            </div>
        </form>
        <form method="POST" action="">
            {% csrf_token %}
            <div class="row">
                <div class="col-sm-2">
                    <h5>Password: </h5>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        {{pwform.new_password|as_crispy_field}}
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        {{pwform.confirm_password|as_crispy_field}}
                    </div>
                </div>
                <div class="col-sm-2" style="margin-bottom:30px">
                    <button onclick="location.href = '/accounts/profile';" style="background-color:#18435A; color:white; margin-top:30px" class="btn btn-default btn-md" type="submit">Change</button>
                </div>
            </div>
        </form>
            <div class="row">
                <div class="col-sm-2" style="margin-bottom:30px">
                    <div class="cent">
                    <button onclick="location.href = '/accounts/deleteacc';" style="background-color:#18435A; color:white;" class="btn btn-default btn-md" type="submit">Delete My Account</button>
                    </div>
                </div>
            </div>
    </div>
    </div>

</body>
</html>